#+StARTUP: hidestars

* 3-1
#+BEGIN_SRC c
  #include <stdio.h>
  #include <stdlib.h>

  #define MAXSIZE 20
  #define LOOP 1
  int main(int argc, char *argv[])
  {
    char digit[MAXSIZE];
    int i, j;
    int n;
    char line[100];

    gets(line);
    n = atoi(line);

    for (i = 0; i < n; ++i) {
      digit[i] = '0';
    }

    printf("\n{}");
    while (LOOP) {
      for (i = 0; i < n && digit[i] == '1';digit[i] = '0',  i++) 
	;
      if (i == n) {
	break;
      }

      else {
	digit[i] = '1';
      }

      for (i = 0; i < n && digit[i] == '0'; ++i)
	;

      printf("\n{%d", i+1);
      for (j = i+1; j < n; j++) {
	if (digit[j] == '1') {
	  printf(",%d", j+1);
	}
      }
      printf("}");

    }
    printf("\n");
  }
#+END_SRC
